<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/just-validate@latest/dist/just-validate.production.min.js" defer></script>
    <script src="javascript/validazione_aggiuntiva.js" defer></script>
    <title>Signup</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<body>

    <h1>Registrati su AccaJob!</h1> <!-- Form per la registrazione-->
    
    <form action="processo-registrazione.php" method="post" id="registrazione">
        <div>
            <label for="nome">Nome</label>
            <input type="text" id="nome" name="nome" required>
        </div>

        <div>
            <label for="cognome">Cognome</label>
            <input type="text" id="cognome" name="cognome" required>
        </div>

        <div>
            <label for="email">E-mail</label>
            <input type="email" id="email" name="email" required>
        </div>        

        <div>
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required>
        </div>

        <div>
            <label for="conferma_password">Ripeti password</label required>
            <input type="password" id="conferma_password" name="conferma_password">
        </div>
        
        
        <div>      <!-- Selezione ruolo --> 

            <legend>Come vuoi registrarti?</legend>
            <select id="ruolo" name="ruolo" >
            <option value="vuoto"> </option>
            <option value="Studente">Studente </option>
            <option value="Referente">Referente </option>
            <option value="Esercente">Esercente </option>
            </select>
            
        </div> 
        
        <!-- Nuovi campi che si aprono dopo la selezione del ruolo-->

        <div id="campi">
            
            <div id="matricola" style="display: none;">
                <label for="matricola">Matricola:</label>
                <input type="text" id="matricola" name="matricola" >
            </div>
            <div id="luogo" style="display: none;">
                <label for="luogo">Luogo di nascita:</label>
                <input type="text" id="luogo" name="luogo" >
            </div>
            <div id="email_az" style="display: none;">
                <label for="email_az">E-mail aziendale:</label>
                <input type="text" id="email_az" name="email_az"  >
            </div>
            <div id="nome_az" style="display: none;">
                <label for="nome_az">Nome azienda:</label>
                <input type="text" id="nome_az" name="nome_az" >
            </div>
            <div id="dipartimento" style="display: none;">
                <label for="dipartimento">Dipartimento università:</label>
                <input type="text" id="dipartimento" name="dipartimento" >
            </div>
        </div>    
        
        <!-- script js che apre un nuovo label quando viene selezionato un ruolo -->
        
        <script>
        const selectOptions = document.getElementById('ruolo');
        const matricola = document.getElementById('matricola');
        const luogo = document.getElementById('luogo');
        const email_az = document.getElementById('email_az');
        const nome_az = document.getElementById('nome_az');
        const dipartimento = document.getElementById('dipartimento');

        selectOptions.addEventListener('change', function() {
        if (selectOptions.value === 'Studente') {
        matricola.style.display = 'block';
        luogo.style.display = 'block';
        email_az.style.display = 'none';
        nome_az.style.display = 'none';
        dipartimento.style.display = 'none';
        } else if (selectOptions.value === 'Referente') {
        matricola.style.display = 'none';
        luogo.style.display = 'none';
        email_az.style.display = 'none';
        nome_az.style.display = 'none';
        dipartimento.style.display = 'block';
        } else if (selectOptions.value === 'Esercente') {
        matricola.style.display = 'none';
        luogo.style.display = 'none';
        nome_az.style.display = 'block';
        email_az.style.display = 'block';
        dipartimento.style.display = 'none';
        }
        
        });
        </script>
        
        <button>Registrati</button>
       
        <div> 
            <p>Sei già registrato? <a href="login.php"> Clicca qui.</a></p>
        </div>   

    </form>
</body>
</html>